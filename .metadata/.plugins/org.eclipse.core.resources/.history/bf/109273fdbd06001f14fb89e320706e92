package models;

import java.io.File;
import java.io.Serializable;

import javax.servlet.http.Part;

import utils.StringUtils;

public class UserModel implements Serializable {
	private String user_name;
	private String password;
	private String full_name;
	private String email;
	private String phone_number;
	private String profile_picture_image;
	//
	private String getProfilePicName(Part part) {
		String imagePath = StringUtils.PROFILE_PIC_SAVE_DIR;
		File imageSaveDir = new File(imagePath);
		String profilePicUrlFromPath = null;
		if(!imageSaveDir.exists()) {
			imageSaveDir.mkdir();
		}
		String contentDisp = part.getHeader("content-disposition");
		String []items = contentDisp.split(";");
		for(String s : items) {
			if(s.trim().startsWith("filename")) {
				profilePicUrlFromPath = s.substring(s.indexOf("=") + 2, s.length() -1);
			}
		}
		if(profilePicUrlFromPath == null || profilePicUrlFromPath.isEmpty()) {
			profilePicUrlFromPath = "default.png";
		}
		return profilePicUrlFromPath;
	}
}
